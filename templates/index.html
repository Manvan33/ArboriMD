<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="/static/style.css">
    <meta charset="utf-8">
    <title>ArboriMD</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>



<body onload="pageLoad()">
    <aside id="aside">
        <header id="title_bar" class="flex">
            <div id="title">
                {% include "svg/tree.html" %}
                <h1 style="display: inline-block">ArboriMD</h1>
            </div>
            <div class="control" title="Hide sidebar">
                {% include 'svg/arrow-bar-left.html' %}
            </div>
        </header>
        <div id="controls-box">
            <div class="control" id="close_all_btn" title="Fold everything">
                {% include 'svg/caret-up.html' %}
            </div>
            <div class="control" id="open_all_btn" title="Unfold everything">
                {% include 'svg/caret-down.html' %}
            </div>

            <div id="copy_link_btn" class="control" title="Add existing note to ArboriMD">
                {% include 'svg/link.html' %}
            </div>
            <div id="create_note_btn" class="control" title="Create a note">
                {% include 'svg/file-earmark-plus.html' %}
            </div>
        </div>
        <div id="add_note_dialog" class="hidden">
            <h2>Add a note<span class="right" id="hide_note_btn">x</span></h2>
            <div class="flex column">
                <!-- Form with no action, only javascript -->
                <input type="text" id="add_note_url" value="" placeholder="Enter the note URL" />
                <button type="button" id="add_note_url_btn">Add</button>
            </div>
        </div>
        <div id="search_box" class="flex">
            <input type="text" id="search_input" value="" placeholder="Search a note name" />
            <div id="search_btn" class="control" title="Search a note">
                {% include 'svg/search.html' %}
            </div>
        </div>
        <details id="folder_template">
            <summary onclick="updateFolder(this)">
                <svg class="closed" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                    class="bi bi-folder" viewBox="0 0 16 16">
                    <path
                        d="M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z" />
                </svg>
                <svg class="opened" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                    class="bi bi-folder2-open" viewBox="0 0 16 16">
                    <path
                        d="M1 3.5A1.5 1.5 0 0 1 2.5 2h2.764c.958 0 1.76.56 2.311 1.184C7.985 3.648 8.48 4 9 4h4.5A1.5 1.5 0 0 1 15 5.5v.64c.57.265.94.876.856 1.546l-.64 5.124A2.5 2.5 0 0 1 12.733 15H3.266a2.5 2.5 0 0 1-2.481-2.19l-.64-5.124A1.5 1.5 0 0 1 1 6.14V3.5zM2 6h12v-.5a.5.5 0 0 0-.5-.5H9c-.964 0-1.71-.629-2.174-1.154C6.374 3.334 5.82 3 5.264 3H2.5a.5.5 0 0 0-.5.5V6zm-.367 1a.5.5 0 0 0-.496.562l.64 5.124A1.5 1.5 0 0 0 3.266 14h9.468a1.5 1.5 0 0 0 1.489-1.314l.64-5.124A.5.5 0 0 0 14.367 7H1.633z" />
                </svg>
                <span class="title"></span>
            </summary>
            <ul class="notes_list"></ul>
        </details>
        <li id="note_link_template" class="note-link"><span class="note_title">bla</span><span title="Click to delete note" class="note_delete">x</span></li>
        <div id="arbolist">
        </div>
        <footer><a target="_blank" href="https://github.com/Manvan33/ArboriMD">Made by Manvan</a></footer>
    </aside>
    <iframe id="codimd"></iframe>
    <script>
        let CODIMD_URL = "{{ url }}"
        let NOTE_TO_OPEN = "{{ note_id }}"
    </script>
    <script src="/static/model.js"></script>
    <script src="/static/view.js"></script>
    <script src="/static/controller.js"></script>
</body>

</html>
